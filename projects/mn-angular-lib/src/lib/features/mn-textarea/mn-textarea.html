<div class="flex flex-col h-full" [class.is-fullwidth]="props.fullWidth">
  <!-- Label -->
  @if (uiConfig.label || props.label) {
    <label class="pl-2 pb-1 flex flex-row gap-x-0.5! text-base!" [attr.for]="resolvedId">
      <p>{{ uiConfig.label || props.label }}</p>
      @if (isRequired()) {
        <span class="text-red-500 ">*</span>
      }
    </label>
  }

  <!-- Textarea Element -->
  <textarea
    [id]="resolvedId"
    [attr.name]="resolvedName"
    [attr.placeholder]="uiConfig.placeholder || null"
    [attr.aria-label]="uiConfig.ariaLabel || uiConfig.label || null"
    [attr.aria-invalid]="showError || null"
    [attr.aria-describedby]="showError ? resolvedId + '-error' : null"
    [disabled]="isDisabled"
    [attr.rows]="props.rows ?? null"
    [attr.cols]="props.cols ?? null"
    [ngClass]="textareaClasses"
    (input)="handleInput(($any($event.target)).value)"
    (blur)="handleBlur()"
  >{{ value ?? '' }}</textarea>

  <!-- Error Messages -->
  @if (showError) {
    <!-- Show all errors mode -->
    @if (props.showAllErrors) {
      <div class="flex flex-col gap-y-1">
        @for (error of errorMessages; track $index) {
          <lib-mn-error-message [errorMessage]="error" [id]="resolvedId + '-' + $index"></lib-mn-error-message>
        }
      </div>
    } @else {
      @if (errorMessage != null) {
        <lib-mn-error-message [errorMessage]="errorMessage" [id]="resolvedId"></lib-mn-error-message>
      }
    }
  }
</div>
