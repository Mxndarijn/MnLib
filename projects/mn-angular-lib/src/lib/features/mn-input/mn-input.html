<div [class]="cssClass">
  @if (label) {
    <label class="mn-field__label" [attr.for]="controlId">
      {{ label }}
      @if (required) { <span aria-hidden="true" class="mn-field__required">*</span> }
    </label>
  }

  <div class="mn-field__control">
    @if (!isTextarea) {
      <input
        class="mn-input"
        [id]="controlId"
        [attr.type]="inputTypeAttr"
        [attr.name]="name || null"
        [attr.placeholder]="placeholder || null"
        [disabled]="disabled"
        [required]="required"
        [attr.autocomplete]="autocomplete || null"
        [attr.min]="min ?? null"
        [attr.max]="max ?? null"
        [attr.step]="step ?? null"
        [attr.aria-invalid]="!!error"
        [attr.aria-describedby]="(helpText || error) ? controlId + '-desc' : null"
        [ngModel]="value"
        (ngModelChange)="onNgModelChange($event)"
        (input)="onInput($event)"
        (blur)="onBlur($event)"
        (focus)="onFocus($event)"
        (keydown)="onKeydown($event)"
      />
    } @else {
      <textarea
        class="mn-textarea"
        [id]="controlId"
        [attr.name]="name || null"
        [attr.placeholder]="placeholder || null"
        [disabled]="disabled"
        [required]="required"
        [rows]="computedRows"
        [attr.autocomplete]="autocomplete || null"
        [attr.aria-invalid]="!!error"
        [attr.aria-describedby]="(helpText || error) ? controlId + '-desc' : null"
        [ngModel]="value"
        (ngModelChange)="onNgModelChange($event)"
        (input)="onInput($event)"
        (blur)="onBlur($event)"
        (focus)="onFocus($event)"
      ></textarea>
    }
  </div>

  <div class="mn-field__messages" [id]="controlId + '-desc'">
    @if (error) { <div class="mn-field__error">{{ error }}</div> }
    @else if (helpText) { <div class="mn-field__help">{{ helpText }}</div> }
  </div>
</div>
