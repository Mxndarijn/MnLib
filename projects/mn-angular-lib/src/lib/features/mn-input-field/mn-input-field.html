<div class="flex flex-col" [class.is-fullwidth]="props.fullWidth">
  <!-- Label -->
  @if (props.label) {
    <label class="pl-2 pb-1 flex flex-row gap-x-0.5! text-base!" [attr.for]="resolvedId">
      <p>{{ props.label }}</p>
      @if (isRequired()) {
        <span class="text-red-500 ">*</span>
      }
    </label>
  }

  <!-- Input Element -->
  <input
    [id]="resolvedId"
    [attr.name]="resolvedName"
    [type]="props.type"
    [attr.placeholder]="props.placeholder || null"
    [attr.aria-label]="props.ariaLabel || props.label || null"
    [attr.aria-invalid]="showError || null"
    [attr.aria-describedby]="showError ? resolvedId + '-error' : null"
    [disabled]="isDisabled"
    [attr.min]="minAttr"
    [attr.max]="maxAttr"
    [value]="value ?? ''"
    [ngClass]="inputClasses"
    (input)="handleInput(($any($event.target)).value)"
    (blur)="handleBlur()"
  />

  <!-- Error Messages -->
  @if (showError) {
    <!-- Show all errors mode -->
    @if (props.showAllErrors) {
      <div [id]="resolvedId + '-error'" class="">
        @for (error of errorMessages; track $index) {
          <div  class="text-red-500 mt-2 text-sm">
            {{ error }}
          </div>
        }
      </div>
    } @else {
      <!-- Show single error mode (default) -->
      <div [id]="resolvedId + '-error'" class="text-red-500 mt-2 text-sm">
        {{ errorMessage }}
      </div>
    }
  }
</div>
